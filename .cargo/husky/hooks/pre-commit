#!/bin/bash
set -e

echo "ðŸ”§ Running auto-fixes..."

# Apply clippy fixes
cargo clippy --fix --allow-dirty --allow-staged --all-targets --all-features

# Apply formatting
cargo fmt --all

# Re-stage modified files
git add -u

# Final validation
echo "âœ… Validating changes..."
cargo clippy --all-targets --all-features -- -D warnings
cargo fmt --all -- --check

echo "âœ… Pre-commit checks passed!"